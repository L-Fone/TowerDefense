set LuaProtocol=..\Unity\Assets\Res\Lua\pbc\AutoGeneratedCode\
set OuterAutoGen=..\Unity\Assets\Hotfix\Message\AutoGeneratedCode\
set InnerAutoGen=..\Server\Assets\Runtime\Message\AutoGeneratedCode\
set FrameAutoGen=..\Server\Packages\DCET.Message\Actor\AutoGeneratedCode\
set cur=%cd%

::客户端和服务器通信协议
%cur%\protobuf-net\protogen -i:OuterMessage.proto -o:%cur%\%OuterAutoGen%%OuterMessage.cs
%cur%\protobuf-net\protoc OuterMessage.proto -o %cur%\%LuaProtocol%%OuterMessage.pb
%cur%\Proto2Opcode -s:DCET -c:10000 -e:OuterOpcode -i:%cur%\OuterMessage.proto -o:%cur%\%OuterAutoGen%%OuterOpcode.cs

::服务器之间通信协议
%cur%\protobuf-net\protogen -i:InnerMessage.proto -o:%cur%\%InnerAutoGen%%InnerMessage.cs
%cur%\Proto2Opcode -s:DCET -c:1000 -e:InnerOpcode -i:%cur%\InnerMessage.proto -o:%cur%\%InnerAutoGen%%InnerOpcode.cs
::服务器框架内部通信协议
%cur%\protobuf-net\protogen -i:FrameMessage.proto -o:%cur%\%FrameAutoGen%%FrameMessage.cs
%cur%\Proto2Opcode -s:DCET -c:100 -e:FrameOpcode -i:%cur%\FrameMessage.proto -o:%cur%\%FrameAutoGen%%FrameOpcode.cs

echo protogen success
@pause